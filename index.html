<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Data Visualisation Exercise 2">
    <meta name="keywords" content="HTML, CSS, D3">
    <meta name="author" content="Sam Galea">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Lora:wght@500&display=swap"
        rel="stylesheet">
    <title>COS30045 Assignment 3</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="js/lineChart_lifeExpectancy.js"></script>
    <!-- REMOVED: <script src="js/sbarChart_example.js"></script> -->
    <script src="js/sbarChart_avoidableDeaths.js"></script>
    <script src="js/sbarChart_causeofDeaths.js"></script> <!-- ADDED: Ensure this is included -->
    <script src="js/index.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <script>
        // inline js to get the menu autoscroll working, too small to have it be its own file
        function scrollToSection(id) {
            const section = document.getElementById(id);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }
    </script>

</head>

<!-- ... <head> section unchanged ... -->

<body>
    <div class="sidebar">
        <h1>COS30045 Assignment 3</h1>
        <h2>Explore the webpage via the buttons below</h2>
        <ul class="button-list">
            <li><button type="button" onclick="scrollToSection('section-start')" data-target="section-start">Start of
                    webpage</button></li>
            <li><button type="button" onclick="scrollToSection('section-cause-of-death')"
                    data-target="section-cause-of-death">What is the cause of death?</button></li>
            <li><button type="button" onclick="scrollToSection('section-avoidable-deaths')"
                    data-target="section-avoidable-deaths">How many avoidable deaths occurred?</button></li>
            <li><button type="button" onclick="scrollToSection('section-life-expectancy')"
                    data-target="section-life-expectancy">How long is the life expectancy?</button></li>
        </ul>
        <br>
        <footer>
            COS30045<br>
            Data Visualisation<br>
            Assignment 3C<br>
            by Group H<br>
            (Seth Taylor and Sam Galea)
        </footer>
    </div>

    <div class="main-content">
        <!-- Section: Start -->
        <div class="scroll-test content-wrapper" id="section-start">
            <h2>Welcome</h2>
            <p>... your intro content here ...</p>
        </div>

        <!-- Section: Cause of Death -->
        <div class="scroll-test content-wrapper" id="section-cause-of-death">
            <h2>What is the leading Cause of Death in Australia?</h2>
            <p>... your paragraph content ...</p>
            <div class="chart" id="chart_causeOfDeath"></div>

            <div class="content-wrapper">
                <p>... your follow-up content ...</p>
            </div>
        </div>

        <!-- Section: Avoidable Deaths -->
        <div class="scroll-test content-wrapper" id="section-avoidable-deaths">
            <h2>How many avoidable deaths occurred in Australia?</h2>
            <p>... your paragraph content ...</p>
            <div class="chart" id="chart_avoidableDeaths"></div>

            <div class="content-wrapper">
                <p>... your follow-up content ...</p>
            </div>
        </div>

        <!-- Section: Life Expectancy -->
        <div class="scroll-test content-wrapper" id="section-life-expectancy">
            <h2>Life Expectancy</h2>
            <p>... your paragraph content ...</p>
            <div class="chart" id="chart_lifeExpec"></div>
            <div class="content-wrapper">
                <p>... your follow-up content ...</p>
            </div>
        </div>
    </div>

    <script>
        // Highlight active button as you scroll
        document.addEventListener("DOMContentLoaded", function () {
            const buttons = document.querySelectorAll('.button-list button');
            const sections = document.querySelectorAll('.scroll-test');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const id = entry.target.id;
                    buttons.forEach(btn => {
                        if (btn.dataset.target === id) {
                            btn.classList.toggle('active', entry.isIntersecting);
                        }
                    });
                });
            }, { threshold: 0.5 });

            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>


</html>